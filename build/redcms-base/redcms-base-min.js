YUI.add("redcms-base",function(a){function k(){this.publish("redcms:select",{emitFacade:false});this.publish("reload",{emitFacade:false});this.publish("success");}k.prototype={_overlay:null,hideReloadOverlay:function(){this._overlay.hide();},showReloadOverlay:function(){var l=this.get("boundingBox");if(!this._overlay){this._overlay=a.Node.create('<div class="yui3-redcms-loading-overlay"><div></div></div>');l.prepend(this._overlay);}this._overlay.one("div").setStyle("height",l.getComputedStyle("height"));this._overlay.show();}};a.namespace("RedCMS").RedCMSWidget=k;var b,i,d,f,g,c,j="contentBox",e="body",h="click";b=a.Base.create("redcms-block",a.Widget,[a.RedCMS.RedCMSWidget],{},{});a.namespace("RedCMS").Block=b;d=a.Base.create("redcms-deleteaction",a.Widget,[a.RedCMS.RedCMSWidget],{bindUI:function(){this.get(j).on(h,function(n){n.preventDefault();if(confirm("Are you sure you want to delete this field?")){var o=[],l=this.get(j),m=l.getAttribute("params");if(m){o=a.JSON.parse(m);}a.io(l.one("a").get("href"),{data:o,on:{success:function(r,q,p){this.fire("success");}},context:this});}},this);}},{});a.namespace("RedCMS").DeleteAction=d;a.namespace("RedCMS").DeleteBlockAction=d;a.namespace("RedCMS").DeleteGroupAction=d;a.namespace("RedCMS").DeleteUserAction=d;f=a.Base.create("redcms-newwindowrefction",a.Widget,[a.RedCMS.RedCMSWidget],{bindUI:function(){this.get(j).on(h,function(n){n.preventDefault();var m,l=this.get(j);m=window.open(l.one("a").get("href"),"_blank");},this);}},{});a.namespace("RedCMS").NewWindowHrefAction=f;g=a.Base.create("redcms-hrefaction",a.Widget,[a.RedCMS.RedCMSWidget],{bindUI:function(){this.get(j).on(h,function(m){var l=this.get(j);m.preventDefault();window.location=l.one("a").get("href");},this);}},{});a.namespace("RedCMS").HrefAction=g;c=a.Base.create("redcms-asyncrequestaction",a.Widget,[a.RedCMS.RedCMSWidget],{bindUI:function(){this.get(j).on(h,function(n){var o=[],l=this.get(j),m=l.getAttribute("params");n.preventDefault();if(m){o=a.JSON.parse(m);}a.io(l.one("a").get("href"),{data:o,on:{success:function(r,q,p){this.fire("success");}},context:this});},this);}},{});a.namespace("RedCMS").AsyncRequestAction=c;i=a.Base.create("redcms-loginaction",a.Widget,[],{bindUI:function(){this.get(j).on(h,function(l){if(a.RedCMS.Config.loggedIn){a.io(a.RedCMS.RedCMSManager.getLink("LoginManager"),{method:"POST",data:"action=logout",on:{success:function(p,n,m){window.location=a.RedCMS.Config.path;}}});}else{a.use("widget-anim","json","gallery-overlay-extras","redcms-panel","redcms-form",function(o){var n,m=new o.Overlay({bodyContent:"<div></div>",headerContent:"Login",width:"400px",zIndex:100,align:{points:["cc","cc"]},constrain:true,render:true,visible:true,plugins:[{fn:o.Plugin.OverlayModal},{fn:o.Plugin.OverlayKeepaligned},{fn:o.Plugin.OverlayWindow}]});n=new o.RedCMS.Form({boundingBox:m.getStdModNode(e).one("div"),action:o.RedCMS.RedCMSManager.getLink("LoginManager"),method:"post",inlineValidation:true,children:[{name:"username",required:true,label:"User name"},{name:"password",type:"PasswordField",required:true,label:"Password"},{name:"action",type:"HiddenField",value:"login"},{name:"submit",type:"SubmitButton",value:"Submit"}]});n.on("success",function(q){var p=o.JSON.parse(q.response.responseText);if(p.result=="success"){window.location.reload();}});n.render();});}});}},{});a.namespace("RedCMS").LoginAction=i;},"@VERSION@",{requires:["widget","widget-parent","widget-child","widget-position","io-base"]});